#!/usr/bin/env bash

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
PROG="putclip"
USER="${SUDO_USER:-${USER}}"
HOME="${USER_HOME:-${HOME}}"

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#set opts

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
##@Version       : 031120210233-git
# @Author        : Jason Hempstead
# @Contact       : jason@casjaysdev.com
# @License       : WTFPL
# @ReadME        : putclip --help
# @Copyright     : Copyright: (c) 2021 Jason Hempstead, CasjaysDev
# @Created       : Thursday, Mar 11, 2021 02:33 EST
# @File          : putclip
# @Description   : copy input to clipboard
# @TODO          :
# @Other         :
# @Resource      :
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
if [ $# -eq 0 ]; then
    message="$(</dev/stdin)"
else
    message="$*"
fi
if [[ "$(uname -s)" =~ ^darwin ]]; then
  if [[ -f "$(command -v pbcopy)" ]]; then
     echo "$message" | LC_CTYPE=UTF-8 tr -d "\n" | pbcopy
  fi
elif [[ "$(uname -s)" =~ ^linux ]]; then
  if [[ -f "$(command -v xclip)" ]]; then
    echo "$message" | xclip -i -sel c
  fi
else
  echo "$message" >>"${TMPDIR:-/tmp}/clipboard"
fi
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
exit $?
# end
